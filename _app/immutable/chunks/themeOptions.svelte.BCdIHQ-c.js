var Bt=Object.defineProperty;var gt=n=>{throw TypeError(n)};var Xt=(n,e,t)=>e in n?Bt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var yt=(n,e,t)=>Xt(n,typeof e!="symbol"?e+"":e,t),Qe=(n,e,t)=>e.has(n)||gt("Cannot "+t);var ne=(n,e,t)=>(Qe(n,e,"read from private field"),t?t.call(n):e.get(n)),pe=(n,e,t)=>e.has(n)?gt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),$e=(n,e,t,a)=>(Qe(n,e,"write to private field"),a?a.call(n,t):e.set(n,t),t),Be=(n,e,t)=>(Qe(n,e,"access private method"),t);import{l as ut,d as Ke,o as wt,a as w,t as D,c as xe,s as Se}from"./disclose-version.DOORnJoV.js";import{as as qt,b as Ut,aG as Dt,h as _e,c as et,a as Yt,R as Jt,aD as At,H as Zt,r as kt,d as tt,i as Ie,aH as Xe,f as It,g as Mt,p as Qt,q as ot,O as pt,aI as ft,aJ as xt,aK as ht,aL as $t,aC as ea,aM as ta,af as aa,ar as na,az as ra,aq as ia,aN as la,V as oa,K as Ct,aO as sa,ax as da,k as bt,T as ca,u as mt,ad as va,j as ua,z as we,m as Wt,w as r,M as ce,A as re,D as C,B,C as ke,ac as he,aP as jt,F as _,G as f,y as U,l as qe,aa as fa,aF as st,n as Pe}from"./index-client.BRZDiws4.js";import{i as te,b as Lt}from"./this.DT3xTMS8.js";import{a as F,s as ye,t as ha,g as ba,c as me,h as dt,d as Le,n as Ze,b as ge,r as Te}from"./index.DS6b5l_X.js";import{i as ma,s as _a,p as Z,a as Ce,b as ga,r as Ft}from"./props.Bli8FXwb.js";import{r as ya}from"./index.CgKlRqQj.js";function zt(n,e){return e}function wa(n,e,t,a){for(var i=[],o=e.length,l=0;l<o;l++)$t(e[l].e,i,!0);var g=o>0&&i.length===0&&t!==null;if(g){var k=t.parentNode;ea(k),k.append(t),a.clear(),We(n,e[0].prev,e[o-1].next)}ta(i,()=>{for(var m=0;m<o;m++){var y=e[m];g||(a.delete(y.k),We(n,y.prev,y.next)),aa(y.e,!g)}})}function Fe(n,e,t,a,i,o=null){var l=n,g={flags:e,items:new Map,first:null},k=(e&Dt)!==0;if(k){var m=n;l=_e?et(na(m)):m.appendChild(qt())}_e&&Yt();var y=null,E=!1;Ut(()=>{var H=t(),u=Jt(H)?H:H==null?[]:At(H),x=u.length;if(E&&x===0)return;E=x===0;let I=!1;if(_e){var J=l.data===Zt;J!==(x===0)&&(l=kt(),et(l),tt(!1),I=!0)}if(_e){for(var M=null,L,O=0;O<x;O++){if(Ie.nodeType===8&&Ie.data===ra){l=Ie,I=!0,tt(!1);break}var X=u[O],h=a(X,O);L=Ht(Ie,g,M,null,X,h,O,i,e),g.items.set(h,L),M=L}x>0&&et(kt())}if(!_e){var c=ia;ka(u,g,l,i,e,(c.f&Xe)!==0,a)}o!==null&&(x===0?y?It(y):y=Mt(()=>o(l)):y!==null&&Qt(y,()=>{y=null})),I&&tt(!0),t()}),_e&&(l=Ie)}function ka(n,e,t,a,i,o,l,g){var T,W,q,S;var k=(i&la)!==0,m=(i&(ft|ht))!==0,y=n.length,E=e.items,H=e.first,u=H,x,I=null,J,M=[],L=[],O,X,h,c;if(k)for(c=0;c<y;c+=1)O=n[c],X=l(O,c),h=E.get(X),h!==void 0&&((T=h.a)==null||T.measure(),(J??(J=new Set)).add(h));for(c=0;c<y;c+=1){if(O=n[c],X=l(O,c),h=E.get(X),h===void 0){var R=u?u.e.nodes_start:t;I=Ht(R,e,I,I===null?e.first:I.next,O,X,c,a,i),E.set(X,I),M=[],L=[],u=I.next;continue}if(m&&pa(h,O,c,i),h.e.f&Xe&&(It(h.e),k&&((W=h.a)==null||W.unfix(),(J??(J=new Set)).delete(h))),h!==u){if(x!==void 0&&x.has(h)){if(M.length<L.length){var K=L[0],N;I=K.prev;var P=M[0],s=M[M.length-1];for(N=0;N<M.length;N+=1)Pt(M[N],K,t);for(N=0;N<L.length;N+=1)x.delete(L[N]);We(e,P.prev,s.next),We(e,I,P),We(e,s,K),u=K,I=s,c-=1,M=[],L=[]}else x.delete(h),Pt(h,u,t),We(e,h.prev,h.next),We(e,h,I===null?e.first:I.next),We(e,I,h),I=h;continue}for(M=[],L=[];u!==null&&u.k!==X;)(o||!(u.e.f&Xe))&&(x??(x=new Set)).add(u),L.push(u),u=u.next;if(u===null)continue;h=u}M.push(h),I=h,u=h.next}if(u!==null||x!==void 0){for(var d=x===void 0?[]:At(x);u!==null;)(o||!(u.e.f&Xe))&&d.push(u),u=u.next;var b=d.length;if(b>0){var v=i&Dt&&y===0?t:null;if(k){for(c=0;c<b;c+=1)(q=d[c].a)==null||q.measure();for(c=0;c<b;c+=1)(S=d[c].a)==null||S.fix()}wa(e,d,v,E)}}k&&ot(()=>{var ee;if(J!==void 0)for(h of J)(ee=h.a)==null||ee.apply()}),pt.first=e.first&&e.first.e,pt.last=I&&I.e}function pa(n,e,t,a){a&ft&&xt(n.v,e),a&ht?xt(n.i,t):n.i=t}function Ht(n,e,t,a,i,o,l,g,k,m){var y=(k&ft)!==0,E=(k&sa)===0,H=y?E?oa(i):Ct(i):i,u=k&ht?Ct(l):l,x={i:u,v:H,k:o,a:null,e:null,prev:t,next:a};try{return x.e=Mt(()=>g(n,H,u),_e),x.e.prev=t&&t.e,x.e.next=a&&a.e,t===null?e.first=x:(t.next=x,t.e.next=x.e),a!==null&&(a.prev=x,a.e.prev=x.e),x}finally{}}function Pt(n,e,t){for(var a=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,o=n.e.nodes_start;o!==a;){var l=da(o);i.before(o),o=l}}function We(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function z(n,e,t,a){var i=n.__styles??(n.__styles={});i[e]!==t&&(i[e]=t,t==null?n.style.removeProperty(e):n.style.setProperty(e,t,""))}function xa(n,e,t=e){var a=va();ut(n,"input",i=>{var o=i?n.defaultValue:n.value;if(o=rt(n)?it(o):o,t(o),a&&o!==(o=e())){var l=n.selectionStart,g=n.selectionEnd;n.value=o??"",g!==null&&(n.selectionStart=l,n.selectionEnd=Math.min(g,n.value.length))}}),(_e&&n.defaultValue!==n.value||mt(e)==null&&n.value)&&t(rt(n)?it(n.value):n.value),bt(()=>{var i=e();rt(n)&&i===it(n.value)||n.type==="date"&&!i&&!n.value||i!==n.value&&(n.value=i??"")})}const at=new Set;function nt(n,e,t,a,i=a){var o=t.getAttribute("type")==="checkbox",l=n;let g=!1;if(e!==null)for(var k of e)l=l[k]??(l[k]=[]);l.push(t),ut(t,"change",()=>{var m=t.__value;o&&(m=Tt(l,m,t.checked)),i(m)},()=>i(o?[]:null)),bt(()=>{var m=a();if(_e&&t.defaultChecked!==t.checked){g=!0;return}o?(m=m||[],t.checked=m.includes(t.__value)):t.checked=ma(t.__value,m)}),ca(()=>{var m=l.indexOf(t);m!==-1&&l.splice(m,1)}),at.has(l)||(at.add(l),ot(()=>{l.sort((m,y)=>m.compareDocumentPosition(y)===4?-1:1),at.delete(l)})),ot(()=>{if(g){var m;if(o)m=Tt(l,m,t.checked);else{var y=l.find(E=>E.checked);m=y==null?void 0:y.__value}i(m)}})}function _t(n,e,t=e){ut(n,"change",a=>{var i=a?n.defaultChecked:n.checked;t(i)}),(_e&&n.defaultChecked!==n.checked||mt(e)==null)&&t(n.checked),bt(()=>{var a=e();n.checked=!!a})}function Tt(n,e,t){for(var a=new Set,i=0;i<n.length;i+=1)n[i].checked&&a.add(n[i].__value);return t||a.delete(e),Array.from(a)}function rt(n){var e=n.type;return e==="number"||e==="range"}function it(n){return n===""?null:+n}var je,De,He,Ye,Rt;const Je=class Je{constructor(e){pe(this,Ye);pe(this,je,new WeakMap);pe(this,De);pe(this,He);$e(this,He,e)}observe(e,t){var a=ne(this,je).get(e)||new Set;return a.add(t),ne(this,je).set(e,a),Be(this,Ye,Rt).call(this).observe(e,ne(this,He)),()=>{var i=ne(this,je).get(e);i.delete(t),i.size===0&&(ne(this,je).delete(e),ne(this,De).unobserve(e))}}};je=new WeakMap,De=new WeakMap,He=new WeakMap,Ye=new WeakSet,Rt=function(){return ne(this,De)??$e(this,De,new ResizeObserver(e=>{for(var t of e){Je.entries.set(t.target,t);for(var a of ne(this,je).get(t.target)||[])a(t)}}))},yt(Je,"entries",new WeakMap);let ct=Je;var Ca=new ct({box:"border-box"});function St(n,e,t){var a=Ca.observe(n,()=>t(n[e]));ua(()=>(mt(()=>t(n[e])),a))}const p=globalThis.window;let Ue=p==null?void 0:p.devicePixelRatio;Nt();function Wa(){var n;return 1*(p==null?void 0:p.screen.availWidth)/((n=globalThis.document)==null?void 0:n.documentElement.clientWidth)}function ja(){return(p==null?void 0:p.screenX)===0&&(p==null?void 0:p.screenY)===0&&(p==null?void 0:p.outerWidth)===(p==null?void 0:p.screen.availWidth)&&(p==null?void 0:p.outerHeight)===(p==null?void 0:p.screen.availHeight)}function Nt(){if(!ja())return;const n=Wa();Math.abs(n-1)<1e-9?Ue=p==null?void 0:p.devicePixelRatio:Ue=(p==null?void 0:p.devicePixelRatio)/n}function Et(){return 1+1*((p==null?void 0:p.devicePixelRatio)-Ue)/Ue}const za=ya(Et(),n=>{var t;return(t=p==null?void 0:p.visualViewport)==null||t.addEventListener("resize",e),()=>{var a;(a=p==null?void 0:p.visualViewport)==null||a.removeEventListener("resize",e)};function e(){Nt(),n(Et())}});function Pa(n,e,t){var a;n.preventDefault(),n.stopPropagation(),ce(e,Ce(n.screenX)),document.body.style.cursor="col-resize",(a=t.resizeStart)==null||a.call(t)}var Ta=D('<div class="parent-overlay svelte-1rrgref"><div class="overlay item-overlay svelte-1rrgref"></div> <div></div></div>'),Sa=D('<!> <div class="parent-template svelte-1rrgref"></div> <div class="handle svelte-1rrgref" role="separator"><svg viewBox="0 0 2 50" xmlns="http://www.w3.org/2000/svg" class="svelte-1rrgref"><line x1="0" y1="10" x2="0" y2="40" stroke="currentColor" stroke-width="2"></line></svg></div>',1);function Ea(n,e){we(e,!0);const t=_a(),a=()=>ga(za,"$zoomRatio",t);let i=Z(e,"minSize",3,3),o=he(null),l=he(0),g=he(0),k=he(0),m=he(0),y=he(void 0),E;Wt(()=>{r(o)===null&&ce(l,0)});const H=U(()=>r(l)>=0?r(g):Math.max(r(g)+r(l)/a(),r(m))),u=U(()=>r(l)>=0?r(y)===void 0?r(l)/a():Math.min(r(l)/a(),r(y)-r(g)):r(g)-r(H));Wt(()=>{ce(m,Ce(J(i(),"em","px"))),ce(y,Ce(J(e.maxSize,"em","px")))});function x(c){r(o)!==null&&ce(l,c.screenX-r(o))}function I(c){var R,K;r(o)!==null&&(ce(o,null),document.body.style.cursor="auto",(R=e.resizeEnd)==null||R.call(e),r(l)!==0&&((K=e.resize)==null||K.call(e,J(r(H)+(r(l)<0?0:r(u)),"px","em"))))}function J(c,R,K){if(c===void 0||!E)return;if(R===K)return c;const N=(d,b)=>{var W,q;const v=document.createElement("div");v.style.height="1px",v.style.position="absolute",v.style.width=`${d}${b}`,(W=E==null?void 0:E.parentNode)==null||W.appendChild(v);const T=getComputedStyle(v).width;return(q=E==null?void 0:E.parentNode)==null||q.removeChild(v),+`${T.substring(0,T.length-2)}`};let P=c;if(R!=="px"&&(P=N(c,R)),K==="px")return P;const s=N(1,K);return P/s}var M=Sa();wt("mousemove",jt,x),wt("mouseup",jt,I);var L=re(M);{var O=c=>{var R=Ta(),K=_(R),N=C(K,2);const P=U(()=>`${me("overlay delta-overlay",{"delta-neg":r(l)<0,"delta-pos":r(l)>0})??""} svelte-1rrgref`);f(R),B(()=>{z(R,"height",`${r(k)}px`),z(K,"width",`${r(H)??""}px`),ye(N,r(P)),z(N,"width",`${r(u)??""}px`)}),ha(3,R,()=>ba,()=>({duration:170})),w(c,R)};te(L,c=>{r(o)!==null&&c(O)})}var X=C(L,2),h=C(X,2);h.__mousedown=[Pa,o,e],Lt(h,c=>E=c,()=>E),B(()=>{F(h,"aria-valuenow",r(l)),z(h,"height",`${r(k)??""}px`)}),St(X,"clientWidth",c=>ce(g,c)),St(X,"clientHeight",c=>ce(k,c)),w(n,M),ke()}Ke(["mousedown"]);const Me={None:0,Row:1,Column:2,All:3};function Da(n){switch(typeof n){case"bigint":case"boolean":case"function":case"number":case"string":case"symbol":case"undefined":return!1}return!(n instanceof Date||n instanceof Set||Array.isArray(n))}function In(n,e){for(let t of n){const a=t.wjdv;if(a!==void 0&&!Da(a))throw new Error('Detected data object with a pre-defined "wjdv" property with an incompatible value.');if(t.wjdv=a??{},e&&!t.id)t.id=e(t);else if(t.id===void 0)throw new Error(`'A data object in the array doesn't have the "id" property and no ID generation function was provided.  Either provide the generation function, or ensure the data comes with the "id" property.`)}return n}var Aa=D('<div class="default-header-content svelte-rkbyyj"> </div>'),Ia=D("<div></div>"),Ma=D('<div role="columnheader"><div class="svelte-rkbyyj"><!> <!></div></div>'),La=D('<div class="default-content svelte-rkbyyj"> </div>'),Fa=D('<div role="cell"><div class="dataview-cell-s svelte-rkbyyj"><div><!></div></div></div>'),Ha=D('<div class="dataview-caption svelte-rkbyyj" role="caption"><!></div>'),Ra=D('<div class="dataview-row-expansion"><!></div>'),Na=D('<div class="dataview-row-bg svelte-rkbyyj" role="row"><div class="dataview-row-s svelte-rkbyyj"><div class="dataview-row-h svelte-rkbyyj"><div class="dataview-row-d svelte-rkbyyj"><!> <!> <div class="dataview-cell">&nbsp;</div></div> <!></div></div></div>'),Va=D('<div><div class="header-group svelte-rkbyyj"><!> <div role="row" class="svelte-rkbyyj"><!> <!> <div role="columnheader">&nbsp;</div></div></div> <div role="rowgroup"></div></div>'),Oa=D("<div><!></div>");function Mn(n,e){we(e,!0);const t=(s,d=Pe)=>{var b=xe(),v=re(b);Fe(v,19,d,T=>T.column.key,(T,W,q)=>{var S=Ma();const ee=U(()=>`${me("col-header",r(W).column.headerClass??e.headerClass,{"sticky-header":!!r(W).column.pinned,"sticky-divider":E()&&r(q)+1===d().length,"col-grid-line":!!(y()&Me.Column),filler:!!r(W).isFiller,[`filler-${x()}`]:!!r(W).isFiller})??""} svelte-rkbyyj`),ae=U(()=>`${O(r(W).column)}em`);var ie=_(S),ue=_(ie);{var be=A=>{var V=xe(),G=re(V);ge(G,()=>e.controlHeaderCell??Pe),w(A,V)},le=A=>{var V=xe(),G=re(V);{var ve=oe=>{var Q=xe(),se=re(Q);ge(se,()=>e.headerCell,()=>({col:r(W).column,colIndex:r(q)})),w(oe,Q)},$=oe=>{var Q=Aa(),se=_(Q,!0);f(Q),B(()=>Se(se,r(W).column.text)),w(oe,Q)};te(G,oe=>{e.headerCell&&!r(W).isFiller?oe(ve):oe($,!1)},!0)}w(A,V)};te(ue,A=>{r(W).column.key===J?A(be):A(le,!1)})}var fe=C(ue,2);{var j=A=>{Ea(A,{get minSize(){return r(W).column.minWidth},resize:V=>r(W).column.width=V})},Y=A=>{var V=Ia();w(A,V)};te(fe,A=>{r(W).column.resizable??!0?A(j):A(Y,!1)})}f(ie),f(S),B(()=>{ye(S,r(ee)),z(S,"width",r(ae)),z(S,"left",r(W).left!==void 0&&r(W).column.pinned?`${r(W).left}em`:void 0),z(S,"z-index",r(W).column.pinned?d().length-r(q):void 0)}),w(T,S)}),w(s,b)},a=(s,d=Pe,b=Pe,v=Pe)=>{var T=xe(),W=re(T);Fe(W,19,v,q=>q.column.key,(q,S,ee)=>{var ae=Fa();const ie=U(()=>r(S).column.get??(G=>o()(G,r(S).column.key))),ue=U(()=>`${me("dataview-cell-bg",r(S).column.dataClass,{"sticky-data":!!r(S).column.pinned,"sticky-divider":E()&&r(ee)+1===v().length,"col-grid-line":!!(y()&Me.Column),filler:!!r(S).isFiller,[`filler-${x()}`]:!!r(S).isFiller})??""} svelte-rkbyyj`),be=U(()=>`${O(r(S).column)}em`);var le=_(ae),fe=_(le);const j=U(()=>`${me("dataview-cell-d",`align-${r(S).column.alignment??"start"}`,{"no-wrap":r(S).column.noTextWrap??!1})??""} svelte-rkbyyj`);var Y=_(fe);{var A=G=>{var ve=xe(),$=re(ve);ge($,()=>e.controlDataCell??Pe,()=>({row:d(),rowIndex:b()})),w(G,ve)},V=G=>{var ve=xe(),$=re(ve);{var oe=se=>{var de=xe(),Ae=re(de);ge(Ae,()=>e.dataCell,()=>({col:r(S).column,colIndex:r(ee),row:d(),rowIndex:b(),getFn:r(ie)})),w(se,de)},Q=se=>{var de=La(),Ae=_(de,!0);B(()=>Se(Ae,r(ie)(d()))),f(de),w(se,de)};te($,se=>{e.dataCell&&!r(S).isFiller?se(oe):se(Q,!1)},!0)}w(G,ve)};te(Y,G=>{r(S).column.key===J?G(A):G(V,!1)})}f(fe),f(le),f(ae),B(()=>{ye(ae,r(ue)),z(ae,"width",r(be)),z(ae,"left",r(S).left!==void 0?`${r(S).left}em`:void 0),ye(fe,r(j))}),w(q,ae)}),w(s,T)},i=s=>{var d=Va();const b=U(()=>X()==="table"?I:{});let v;var T=_(d),W=_(T);{var q=j=>{var Y=Ha();F(Y,"id",`${M??""}_caption`);var A=_(Y);ge(A,()=>e.caption),f(Y),w(j,Y)};te(W,j=>{e.caption&&j(q)})}var S=C(W,2),ee=_(S);{var ae=j=>{t(j,()=>r(L).pinned)};te(ee,j=>{r(L).pinned.length&&j(ae)})}var ie=C(ee,2);t(ie,()=>r(L).unpinned);var ue=C(ie,2);const be=U(()=>`${me("col-header extra-header",e.headerClass)??""} svelte-rkbyyj`);f(S),f(T);var le=C(T,2);const fe=U(()=>`${me("dataview-body",{striped:m(),"row-tracking":g()})??""} svelte-rkbyyj`);Fe(le,23,()=>e.data,j=>j.id,(j,Y,A)=>{var V=Na(),G=_(V),ve=_(G),$=_(ve),oe=_($);{var Q=ze=>{a(ze,()=>r(Y),()=>r(A),()=>r(L).pinned)};te(oe,ze=>{r(L).pinned.length&&ze(Q)})}var se=C(oe,2);a(se,()=>r(Y),()=>r(A),()=>r(L).unpinned),st(2),f($);var de=C($,2);{var Ae=ze=>{var Ge=Ra(),Gt=_(Ge);ge(Gt,()=>e.rowExpansion,()=>({row:r(Y),rowIndex:r(A)})),f(Ge),B(()=>F(Ge,"id",`${M??""}_rowExpansion_${r(Y).id??""}`)),w(ze,Ge)};te(de,ze=>{r(Y).wjdv.expanded&&e.rowExpansion&&ze(Ae)})}f(ve),f(G),f(V),B(()=>{F(V,"aria-selected",r(Y).wjdv.selected??!1),F(V,"aria-expanded",e.rowExpansion?r(Y).wjdv.expanded??!1:void 0),F(V,"aria-owns",e.rowExpansion&&r(Y).wjdv.expanded?`${M}_rowExpansion_${r(Y).id}`:void 0),Le(V,"selected",k()&&r(Y).wjdv.selected),Le(V,"row-grid-line",!!(y()&Me.Row))}),w(j,V)}),f(le),f(d),B(()=>{v=dt(d,v,{class:me("dataview",H()?e.class:void 0,{"no-vp":H()}),role:"table","aria-labelledby":e.caption?`${M}_caption`:void 0,...r(b)},"svelte-rkbyyj"),Le(S,"row-grid-line",!!(y()&Me.Row)),ye(ue,r(be)),ye(le,r(fe))}),w(s,d)};let o=Z(e,"get",3,(s,d)=>s[d]),l=Z(e,"defaultWidth",3,10),g=Z(e,"rowTracking",3,!0),k=Z(e,"rowSelectionHighlight",3,!0),m=Z(e,"striped",3,!0),y=Z(e,"gridLines",19,()=>Me.None),E=Z(e,"pinnedDivider",3,!0),H=Z(e,"noViewport",3,!1),u=Z(e,"propSpreadingTarget",3,"root"),x=Z(e,"fillerPattern",3,"diagstriped"),I=Ft(e,["$$slots","$$events","$$legacy","columns","data","get","defaultWidth","rowTracking","rowSelectionHighlight","striped","gridLines","pinnedDivider","controlColumn","noViewport","propSpreadingTarget","fillerPattern","class","headerClass","headerCell","dataCell","rowExpansion","controlHeaderCell","controlDataCell","caption"]);const J="__ctrl",M=Ze("wjdv");let L=he(Ce({pinned:[],unpinned:[],accPinnedWidth:0,accUnpinnedWidth:0}));qe(()=>{const s=[],d=[];e.controlColumn&&!e.controlColumn.hidden&&s.push({...e.controlColumn,key:J,pinned:!0});for(let T of e.columns)T.hidden||(T.pinned?s.push(T):d.push(T));const b=c(s,0),v=c(d,b.accumWidth);ce(L,Ce({accPinnedWidth:b.accumWidth,accUnpinnedWidth:v.accumWidth,pinned:b.columns,unpinned:v.columns}))}),fa(()=>()=>{for(let s of e.columns)s.sync&&(s.sync.expectedLeft=0)});function O(s){return s.width??(s.useMinWidthAsWidth?s.minWidth:null)??l()}function X(){return u()==="root"&&H()||u()==="table"?"table":"viewport"}function h(s,d){return{key:`filler_${s.key}`,text:"",width:d,pinned:s.pinned,resizable:!1}}function c(s,d){const b={accumWidth:d,columns:[]};for(let v of s)v.sync&&b.accumWidth<v.sync.expectedLeft?(b.columns.push({column:h(v,v.sync.expectedLeft-b.accumWidth),left:b.accumWidth,isFiller:!0}),b.accumWidth=v.sync.expectedLeft):v.sync&&(v.sync.expectedLeft=b.accumWidth),b.columns.push({column:v,left:b.accumWidth}),b.accumWidth+=O(v);return b}var R=xe(),K=re(R);{var N=s=>{i(s)},P=s=>{var d=Oa();const b=U(()=>X()==="viewport"?I:{});let v;var T=_(d);i(T),f(d),B(()=>v=dt(d,v,{class:me("dataview-container",e.class),...r(b)},"svelte-rkbyyj")),w(s,d)};te(K,s=>{H()?s(N):s(P,!1)})}w(n,R),ke()}var Ka=D("<div><!></div>");function Ln(n,e){we(e,!0);var t=Ka();z(t,"display","contents");var a=_(t);ge(a,()=>e.children),f(t),B(()=>{var i,o,l,g,k,m,y,E,H,u,x,I,J,M,L,O,X,h,c,R,K,N,P,s,d,b,v,T,W,q,S,ee,ae,ie,ue,be,le,fe,j;z(t,"--wjdv-bg-color-rgb",(i=e.theme.table)==null?void 0:i.backgroundColor),z(t,"--wjdv-bg-opacity",(o=e.theme.table)==null?void 0:o.opacity),z(t,"--wjdv-fg-color",(l=e.theme.table)==null?void 0:l.color),z(t,"--wjdv-striping-bg-color-rgb",(g=e.theme.stripes)==null?void 0:g.backgroundColor),z(t,"--wjdv-striping-bg-opacity",(k=e.theme.stripes)==null?void 0:k.opacity),z(t,"--wjdv-striping-fg-color",(m=e.theme.stripes)==null?void 0:m.color),z(t,"--wjdv-rowtracking-bg-color-rgb",(y=e.theme.rowTracking)==null?void 0:y.backgroundColor),z(t,"--wjdv-rowtracking-bg-opacity",(E=e.theme.rowTracking)==null?void 0:E.opacity),z(t,"--wjdv-rowtracking-fg-color",(H=e.theme.rowTracking)==null?void 0:H.color),z(t,"--wjdv-sticky-divider-width",(u=e.theme.pinnedColumnsDivider)==null?void 0:u.width),z(t,"--wjdv-sticky-divider-style",(x=e.theme.pinnedColumnsDivider)==null?void 0:x.style),z(t,"--wjdv-sticky-divider-color",(I=e.theme.pinnedColumnsDivider)==null?void 0:I.color),z(t,"--wjdv-resizer-width",(J=e.theme.resizer)==null?void 0:J.width),z(t,"--wjdv-resizer-overlay-opacity",(L=(M=e.theme.resizer)==null?void 0:M.overlay)==null?void 0:L.opacity),z(t,"--wjdv-resizer-overlay-bg-color",(h=(X=(O=e.theme.resizer)==null?void 0:O.overlay)==null?void 0:X.item)==null?void 0:h.backgroundColor),z(t,"--wjdv-resizer-overlay-border-color",(K=(R=(c=e.theme.resizer)==null?void 0:c.overlay)==null?void 0:R.item)==null?void 0:K.borderColor),z(t,"--wjdv-resizer-deltapos-bg-color",(s=(P=(N=e.theme.resizer)==null?void 0:N.overlay)==null?void 0:P.positiveDelta)==null?void 0:s.backgroundColor),z(t,"--wjdv-resizer-deltapos-border-color",(v=(b=(d=e.theme.resizer)==null?void 0:d.overlay)==null?void 0:b.positiveDelta)==null?void 0:v.borderColor),z(t,"--wjdv-resizer-deltaneg-bg-color",(q=(W=(T=e.theme.resizer)==null?void 0:T.overlay)==null?void 0:W.negativeDelta)==null?void 0:q.backgroundColor),z(t,"--wjdv-resizer-deltaneg-border-color",(ae=(ee=(S=e.theme.resizer)==null?void 0:S.overlay)==null?void 0:ee.negativeDelta)==null?void 0:ae.borderColor),z(t,"--wjdv-selected-bg-color-rgb",(ie=e.theme.rowSelection)==null?void 0:ie.backgroundColor),z(t,"--wjdv-selected-bg-opacity",(ue=e.theme.rowSelection)==null?void 0:ue.opacity),z(t,"--wjdv-selected-fg-color",(be=e.theme.rowSelection)==null?void 0:be.color),z(t,"--wjdv-grid-line-width",(le=e.theme.gridLines)==null?void 0:le.width),z(t,"--wjdv-grid-line-style",(fe=e.theme.gridLines)==null?void 0:fe.style),z(t,"--wjdv-grid-line-color",(j=e.theme.gridLines)==null?void 0:j.color)}),w(n,t),ke()}var Ga=(n,e)=>e.columns.forEach(t=>t.hidden=!1),Ba=(n,e)=>{var t;return(t=e.onClose)==null?void 0:t.call(e)},Xa=D('<input type="checkbox" class="form-check-input"> <label class="me-3"> </label>',1),qa=D("<td><!></td>"),Ua=D("<tr></tr>"),Ya=D('<div class="d-flex flex-row flex-nowrap px-4 pt-2 align-items-baseline"><h6 class="me-3">Available Columns</h6> <button type="button" class="btn btn-sm btn-secondary ms-auto me-2">Select all</button> <button type="button" class="btn-close align-self-center" aria-label="Close"></button></div> <div class="px-4 py-2"><table class="table table-sm table-borderless svelte-1gtq4p0"><tbody></tbody></table></div>',1);function Ja(n,e){we(e,!0);let t=Z(e,"newColumnThreshold",3,5),a=Z(e,"maxColumns",3,4),i=Ze(),o=U(()=>Math.min(a(),Math.floor(e.columns.length/t())+(e.columns.length%t()!==0?1:0))),l=U(()=>Math.floor(e.columns.length/r(o))+(e.columns.length%r(o)!==0?1:0));var g=Ya(),k=re(g),m=C(_(k),2);m.__click=[Ga,e];var y=C(m,2);y.__click=[Ba,e],f(k);var E=C(k,2),H=_(E),u=_(H);Fe(u,21,()=>({length:r(l)}),zt,(x,I,J)=>{var M=Ua();Fe(M,21,()=>({length:r(o)}),zt,(O,X,h)=>{var c=qa();const R=U(()=>e.columns.length%r(o)),K=U(()=>h>=r(R)),N=U(()=>r(K)&&r(R)>0&&J+1===r(l)?void 0:e.columns[(r(K)?r(R):h)*r(l)+(r(K)?h-r(R):0)*(r(l)-(r(R)>0?1:0))+J]);var P=_(c);{var s=d=>{var b=Xa(),v=re(b);Te(v);var T=C(v,2),W=_(T,!0);f(T),B(()=>{F(v,"id",`${i??""}_${r(N).key??""}`),F(T,"for",`${i??""}_${r(N).key??""}`),Se(W,r(N).text)}),_t(v,()=>!r(N).hidden,q=>r(N).hidden=!q),w(d,b)};te(P,d=>{r(N)&&d(s)})}f(c),w(O,c)}),f(M),w(x,M)}),f(u),f(H),f(E),w(n,g),ke()}Ke(["click"]);var Za=D("<div><!></div>");function Vt(n,e){we(e,!0);let t=Ft(e,["$$slots","$$events","$$legacy","children","shadow"]);var a=Za();let i;var o=_(a);ge(o,()=>e.children??Pe),f(a),B(()=>{i=dt(a,i,{class:"dropdown-menu bg-glass",...t},"svelte-167glbi"),Le(a,"shadow",e.shadow)}),w(n,a),ke()}var Qa=D('<div class="dropdown"><button class="btn btn-neutral btn-sm" type="button" data-bs-toggle="dropdown" title="Columns" aria-expanded="false" aria-label="Select visible columns" data-bs-auto-close="false"><i class="bi bi-layout-sidebar-inset"></i></button> <!></div>');function Fn(n,e){we(e,!0);let t=Z(e,"columns",15),a;function i(){return globalThis.bootstrap.Dropdown.getInstance(a)}var o=Qa(),l=_(o);Lt(l,k=>a=k,()=>a);var g=C(l,2);Vt(g,{shadow:!0,children:(k,m)=>{Ja(k,{onClose:()=>i().hide(),get columns(){return t()},set columns(y){t(y)}})},$$slots:{default:!0}}),f(o),w(n,o),ke()}var $a=D('<a class="position-absolute bottom-0 end-0 rounded-circle btn btn-sm btn-secondary mb-3 me-3 semi-transparent svelte-3d73hg" title="See an error?  Want to improve the demo?  Curious about the source code?  View/edit this page in GitHub." target="_blank" aria-label="Edit this page in GitHub"><i class="bi bi-pencil"></i></a>');function Hn(n,e){var t=$a();B(()=>F(t,"href",e.editUrl)),w(n,t)}var en=n=>n.stopPropagation(),tn=D('<div class="d-flex flex-row p-0"><!> <input type="checkbox" class="btn-check">  <label class="btn btn-neutral rounded-0 flex-grow-0"><i class="bi bi-stars"></i></label></div>');function Ot(n,e){we(e,!0);let t=Z(e,"pinPreference",15),a=Z(e,"noMenuItem",3,!1),i=Ze();var o=tn(),l=_(o);ge(l,()=>e.children);var g=C(l,2);Te(g),F(g,"id",`${i??""}_pinpref`);var k=C(g,2);F(k,"for",`${i??""}_pinpref`),k.__click=[en],f(o),B(()=>Le(o,"dropdown-item",!a())),_t(g,t),w(n,o),ke()}Ke(["click"]);var an=(n,e)=>{var t;return(t=e.onClick)==null?void 0:t.call(e)},nn=D('<button type="button"><!></button>');function lt(n,e){we(e,!0);let t=Z(e,"pinPreference",15);Ot(n,{get pinPreference(){return t()},set pinPreference(a){t(a)},children:(a,i)=>{var o=nn();const l=U(()=>me("btn btn-neutral rounded-0 text-start flex-fill pe-4",e.class));o.__click=[an,e];var g=_(o);ge(g,()=>e.children),f(o),B(()=>ye(o,r(l))),w(a,o)},$$slots:{default:!0}}),ke()}Ke(["click"]);var Re,Ne,Ve,Oe,vt;class rn{constructor(){pe(this,Oe);pe(this,Re,he(!1));pe(this,Ne,he(!1));pe(this,Ve,he(!1));window.addEventListener("keydown",e=>Be(this,Oe,vt).call(this,e)),window.addEventListener("keyup",e=>Be(this,Oe,vt).call(this,e))}get shift(){return r(ne(this,Re))}get ctrl(){return r(ne(this,Ne))}get alt(){return r(ne(this,Ve))}}Re=new WeakMap,Ne=new WeakMap,Ve=new WeakMap,Oe=new WeakSet,vt=function(e){ce(ne(this,Ve),Ce(e.altKey)),ce(ne(this,Ne),Ce(e.ctrlKey)),ce(ne(this,Re),Ce(e.shiftKey))};const ln=new rn,Ee=["start","center","end"],on={center:"text-center",end:"text-right",start:"text-left"};function sn(n,e,t,a,i){e(e().alignment=t[n.ctrlKey?a():i()],!0)}var dn=D('<div class="btn-toolbar px-3 flex-fill align-self-center"><div class="btn-group btn-group-sm me-1"><input type="radio" class="btn-check"> <label title="Align left" class="btn btn-outline-primary"><i class="bi bi-text-left"></i></label> <input type="radio" class="btn-check"> <label title="Align center" class="btn btn-outline-primary"><i class="bi bi-text-center"></i></label> <input type="radio" class="btn-check"> <label title="Align right" class="btn btn-outline-primary"><i class="bi bi-text-right"></i></label></div></div>'),cn=D('<i class="bi bi-text-wrap"></i> Text wrap',1),vn=D('<i class="bi bi-eye-slash me-2"></i> Hide column',1),un=D("<i></i> ",1),fn=D('<h6 class="px-3">Minimum Width</h6> <div class="d-flex flex-column flex-nowrap px-3 py-1 fs-6"><input type="range" class="form-range" min="3" max="15" step="0.1"> <datalist><option>3</option><option>5</option><option>7</option></datalist> <span class="ms-1 force-max-content font-monospace fw-bold text-center svelte-1thvves"> </span></div> <div class="dropdown-divider"></div> <h6 class="px-3">Alignment</h6> <!> <div class="dropdown-divider"></div> <!> <div class="dropdown-divider"></div> <!> <!>',1),hn=D('<button type="button" class="btn btn-neutral btn-sm ms-auto" title="Click: Next alignment; Ctrl + Click: Previous alignment" aria-label="Column alignment"><i></i></button>'),bn=D('<input type="checkbox" class="btn-check"> <label class="btn btn-neutral btn-sm"><i class="bi bi-text-wrap"></i></label>',1),mn=(n,e)=>e(e().hidden=!0,!0),_n=D('<button type="button" class="btn btn-sm btn-neutral"><span><i class="bi bi-eye-slash"></i></span></button>'),gn=(n,e)=>e(e().pinned=!e().pinned,!0),yn=D('<button type="button" class="btn btn-sm btn-neutral"><span><i></i></span></button>'),wn=D('<div class="d-flex flex-row ps-2"><div class="dropdown"><button type="button" data-bs-toggle="dropdown" aria-expanded="false" class="btn btn-sm btn-neutral dropdown-toggle flex-shrink-1"><span class="fw-semibold text-nowrap text-truncate"> </span></button> <!></div> <div class="d-flex flex-row flex-nowrap ms-auto"><!> <!> <!> <!></div></div>');function Rn(n,e){we(e,!0);const t=[];let a=Z(e,"col",15),i=Ze(),o=U(()=>`bi-pin-${a().pinned?"fill":"angle"}`),l=he(!a().noTextWrap),g=U(()=>Ee.findIndex(P=>P===(a().alignment??"start"))),k=U(()=>on[Ee[ln.ctrl?y():m()]]);qe(()=>{a(a().noTextWrap=!r(l),!0)}),qe(()=>{typeof a().minWidth=="number"&&a().minWidth>(a().width??Number.MAX_VALUE)&&a(a().width=a().minWidth,!0)}),qe(()=>{a(a().headerClass=me({"header-background pinned-header":!!a().pinned,"header-sync":!!a().sync}),!0),a(a().dataClass=a().pinned?"pinned-cell":void 0,!0)});function m(){return(r(g)+1)%Ee.length}function y(){return(r(g)-1+Ee.length)%Ee.length}var E=wn(),H=_(E),u=_(H);F(u,"data-bs-target",`${i??""}_ddmenu`);var x=_(u),I=_(x,!0);f(x),f(u);var J=C(u,2);Vt(J,{shadow:!0,id:`${i??""}_ddmenu`,children:(P,s)=>{var d=fn(),b=C(re(d),2),v=_(b);Te(v);var T=C(v,2),W=_(T);W.value=(W.__value="3")==null?"":"3";var q=C(W);q.value=(q.__value="5")==null?"":"5";var S=C(q);S.value=(S.__value="7")==null?"":"7",f(T);var ee=C(T,2),ae=_(ee,!0);B(()=>Se(ae,typeof a().minWidth!="number"?"(not set)":`${a().minWidth.toFixed(1)} em`)),f(ee),f(b);var ie=C(b,6);Ot(ie,{noMenuItem:!0,get pinPreference(){return a().pinnedFunctions.align},set pinPreference(j){a(a().pinnedFunctions.align=j,!0)},children:(j,Y)=>{var A=dn(),V=_(A),G=_(V);Te(G),G.value=(G.__value="start")==null?"":"start";var ve=C(G,2),$=C(ve,2);Te($),$.value=($.__value="center")==null?"":"center";var oe=C($,2),Q=C(oe,2);Te(Q),Q.value=(Q.__value="end")==null?"":"end";var se=C(Q,2);f(V),f(A),B(()=>{F(G,"name",`${i??""}_${a().key??""}_alignment`),F(G,"id",`${i??""}_${a().key??""}_align_left`),F(ve,"for",`${i??""}_${a().key??""}_align_left`),F($,"name",`${i??""}_${a().key??""}_alignment`),F($,"id",`${i??""}_${a().key??""}_align_center`),F(oe,"for",`${i??""}_${a().key??""}_align_center`),F(Q,"name",`${i??""}_${a().key??""}_alignment`),F(Q,"id",`${i??""}_${a().key??""}_align_right`),F(se,"for",`${i??""}_${a().key??""}_align_right`)}),nt(t,[],G,()=>a().alignment,de=>a(a().alignment=de,!0)),nt(t,[],$,()=>a().alignment,de=>a(a().alignment=de,!0)),nt(t,[],Q,()=>a().alignment,de=>a(a().alignment=de,!0)),w(j,A)},$$slots:{default:!0}});var ue=C(ie,4),be=U(()=>r(l)?"active":void 0);lt(ue,{get class(){return r(be)},onClick:()=>ce(l,!r(l)),get pinPreference(){return a().pinnedFunctions.textWrap},set pinPreference(j){a(a().pinnedFunctions.textWrap=j,!0)},children:(j,Y)=>{var A=cn();st(),w(j,A)},$$slots:{default:!0}});var le=C(ue,4);lt(le,{onClick:()=>a(a().hidden=!0,!0),get pinPreference(){return a().pinnedFunctions.hide},set pinPreference(j){a(a().pinnedFunctions.hide=j,!0)},children:(j,Y)=>{var A=vn();st(),w(j,A)},$$slots:{default:!0}});var fe=C(le,2);lt(fe,{onClick:()=>a(a().pinned=!a().pinned,!0),get pinPreference(){return a().pinnedFunctions.pin},set pinPreference(j){a(a().pinnedFunctions.pin=j,!0)},children:(j,Y)=>{var A=un(),V=re(A),G=C(V);B(()=>{ye(V,`bi ${r(o)??""} me-2 svelte-1thvves`),Se(G,` ${(a().pinned?"Unpin":"Pin")??""} column`)}),w(j,A)},$$slots:{default:!0}}),B(()=>{F(v,"list",`${i??""}_${a().key??""}_minwidth_dl`),F(v,"id",`${i??""}_${a().key??""}_minwidth`),F(T,"id",`${i??""}_${a().key??""}_minwidth_dl`)}),xa(v,()=>a().minWidth,j=>a(a().minWidth=j,!0)),w(P,d)},$$slots:{default:!0}}),f(H);var M=C(H,2),L=_(M);{var O=P=>{var s=hn();s.__click=[sn,a,Ee,y,m];var d=_(s);f(s),B(()=>ye(d,`bi bi-${r(k)??""} svelte-1thvves`)),w(P,s)};te(L,P=>{a().pinnedFunctions.align&&P(O)})}var X=C(L,2);{var h=P=>{var s=bn(),d=re(s);Te(d),F(d,"id",`${i??""}_textwrap`);var b=C(d,2);F(b,"for",`${i??""}_textwrap`),_t(d,()=>r(l),v=>ce(l,v)),w(P,s)};te(X,P=>{a().pinnedFunctions.textWrap&&P(h)})}var c=C(X,2);{var R=P=>{var s=_n();s.__click=[mn,a];var d=_(s);f(s),B(()=>{F(s,"aria-label",`${(a().hidden?"Show":"Hide")??""} column`),F(d,"title",`Click to ${(a().hidden?"show":"hide")??""}`)}),w(P,s)};te(c,P=>{a().pinnedFunctions.hide&&P(R)})}var K=C(c,2);{var N=P=>{var s=yn();s.__click=[gn,a];var d=_(s),b=_(d);f(d),f(s),B(()=>{F(s,"aria-label",`${(a().pinned?"Unp":"P")??""}in column`),F(d,"title",`Click to ${(a().pinned?"un":"")??""}pin`),ye(b,`bi ${r(o)??""} svelte-1thvves`)}),w(P,s)};te(K,P=>{a().pinnedFunctions.pin&&P(N)})}f(M),f(E),B(()=>Se(I,a().text)),w(n,E),ke()}Ke(["click"]);var kn=D('<span class="numeric svelte-sec6ou"> </span>');function Nn(n,e){we(e,!0);let t=Z(e,"formatter",19,()=>new Intl.NumberFormat(navigator==null?void 0:navigator.language,{maximumFractionDigits:4}));var a=kn(),i=_(a,!0);B(()=>Se(i,t().format(e.value))),f(a),w(n,a),ke()}const pn={table:{backgroundColor:"255, 255, 255",opacity:1,color:"inherit"},stripes:{backgroundColor:"0, 0, 0",opacity:.04,color:"inherit"},rowTracking:{backgroundColor:"0, 0, 0",opacity:.07,color:"inherit"},rowSelection:{backgroundColor:"227, 240, 254",opacity:1,color:"inherit"},pinnedColumnsDivider:{width:"0.2em",style:"solid",color:"darkgray"},resizer:{width:"0.4em",overlay:{opacity:.7,item:{backgroundColor:"lightblue",borderColor:"blue"},positiveDelta:{backgroundColor:"lightgreen",borderColor:"green"},negativeDelta:{backgroundColor:"pink",borderColor:"red"}}},gridLines:{width:"0.01em",style:"solid",color:"currentColor"}},xn={table:{backgroundColor:"0, 0, 0",opacity:1,color:"inherit"},stripes:{backgroundColor:"255, 255, 255",opacity:.07,color:"inherit"},rowTracking:{backgroundColor:"255, 255, 255",opacity:.15,color:"inherit"},rowSelection:{backgroundColor:"15, 25, 74",opacity:1,color:"inherit"},pinnedColumnsDivider:{width:"0.2em",style:"solid",color:"lightgray"},resizer:{width:"0.4em",overlay:{opacity:.7,item:{backgroundColor:"#0578ea",borderColor:"#13aeff"},positiveDelta:{backgroundColor:"lightgreen",borderColor:"green"},negativeDelta:{backgroundColor:"pink",borderColor:"red"}}},gridLines:{width:"0.01em",style:"solid",color:"currentColor"}},Kt={table:{backgroundColor:"var(--bs-body-bg-rgb)"},stripes:{backgroundColor:"var(--bs-emphasis-color-rgb)"},rowTracking:{backgroundColor:"var(--bs-primary-rgb)",opacity:.2},rowSelection:{backgroundColor:"var(--bs-row-selection-bg-color-rgb)"}},Cn={table:{backgroundColor:"var(--wjdv-sky-bg-rgb)",color:"var(--wjdv-sky-color)"}},Wn=Ce({darkTheme:!1,currentTheme:Kt}),jn=U(()=>Wn.darkTheme?xn:pn);function Vn(){return r(jn)}const On={Bootstrap:Kt,Sky:Cn};export{Fn as A,Hn as E,Me as G,Rn as H,Nn as N,Ln as W,nt as a,_t as b,On as c,In as d,Fe as e,Mn as f,Vn as g,z as s,Wn as t};
