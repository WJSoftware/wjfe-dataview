import{l as A,m as u,o as S,H as o,q as b,v as k,w as d,x as h,y as _,z as T,A as x,E as R,B as g,C as q,a as N,D as B,S as C}from"./runtime.CgMc9D5E.js";function F(s,f,r,i=null,t=!1){u&&S();var a=s,e=null,l=null,n=null,E=t?R:0;A(()=>{if(n===(n=!!f()))return;let c=!1;if(u){const v=a.data===o;n===v&&(a=b(),k(a),d(!1),c=!0)}n?(e?h(e):e=_(()=>r(a)),l&&T(l,()=>{l=null})):(l?h(l):i&&(l=_(()=>i(a))),e&&T(e,()=>{e=null})),c&&d(!0)},E),u&&(a=x)}function y(s,f){var i;var r=s&&((i=s[C])==null?void 0:i.t);return s===f||r===f}function H(s={},f,r,i){return g(()=>{var t,a;return q(()=>{t=a,a=[],N(()=>{s!==r(...a)&&(f(s,...a),t&&y(r(...t),s)&&f(null,...t))})}),()=>{B(()=>{a&&y(r(...a),s)&&f(null,...a)})}}),s}export{H as b,F as i};
