import{q as _,v as u,w as T,x as d,y as n,z as k,E as R,H as q,A as x,B as F,C as E,D as N,F as g,G as v,a as B,I as C,S as D}from"./runtime.vz7-y3A5.js";function I(a,f,e,c=null,i=!1){n&&k();var s=a,r=null,t=null,l=null,A=i?R:0;_(()=>{if(l===(l=!!f()))return;let h=!1;if(n){const S=s.data===q;l===S&&(s=x(),F(s),E(!1),h=!0)}l?(r?u(r):r=T(()=>e(s)),t&&d(t,()=>{t=null})):(t?u(t):c&&(t=T(()=>c(s))),r&&d(r,()=>{r=null})),h&&E(!0)},A),n&&(s=N)}function y(a,f){return a===f||(a==null?void 0:a[D])===f}function L(a={},f,e,c){return g(()=>{var i,s;return v(()=>{i=s,s=[],B(()=>{a!==e(...s)&&(f(a,...s),i&&y(e(...i),a)&&f(null,...i))})}),()=>{C(()=>{s&&y(e(...s),a)&&f(null,...s)})}}),a}export{L as b,I as i};
