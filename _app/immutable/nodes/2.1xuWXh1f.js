import{G as $,d as pe,e as K,b as E,a as U,t as ae,g as ve,c as ee,W as me,E as be,f as ge,A as he,H as fe,N as _e}from"../chunks/themeOptions.svelte.BCdIHQ-c.js";import{i as we,a as D,s as ke,b as xe}from"../chunks/props.Bli8FXwb.js";import{l as ye,a as k,t as y,s as J,d as Ce,b as Te}from"../chunks/disclose-version.DOORnJoV.js";import{j as ie,z as re,m as ne,B as F,C as oe,D as n,F as d,M as I,w as _,ac as Y,aF as Q,G as s,A as Se,l as je,y as te,n as V}from"../chunks/index-client.BRZDiws4.js";import{i as $e}from"../chunks/this.DT3xTMS8.js";import{r as x,a as P,d as se,e as De,s as Fe}from"../chunks/index.DS6b5l_X.js";import{s as qe,g as He}from"../chunks/entry.DKa3E-8O.js";import{b as Re}from"../chunks/paths.xkzb_eG6.js";import"../chunks/legacy.C9u0XQK2.js";function le(e,a,b){if(e.multiple)return ze(e,a);for(var v of e.options){var c=M(v);if(we(c,a)){v.selected=!0;return}}(!b||a!==void 0)&&(e.selectedIndex=-1)}function We(e,a){ie(()=>{var b=new MutationObserver(()=>{var v=e.__value;le(e,v)});return b.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{b.disconnect()}})}function Le(e,a,b=a){var v=!0;ye(e,"change",c=>{var g=c?"[selected]":":checked",w;if(e.multiple)w=[].map.call(e.querySelectorAll(g),M);else{var C=e.querySelector(g)??e.querySelector("option:not([disabled])");w=C&&M(C)}b(w)}),ie(()=>{var c=a();if(le(e,c,v),v&&c===void 0){var g=e.querySelector(":checked");g!==null&&(c=M(g),b(c))}e.__value=c,v=!1}),We(e)}function ze(e,a){for(var b of e.options)b.selected=~a.indexOf(M(b))}function M(e){return"__value"in e?e.__value:e.value}const o=D({striped:!0,rowTracking:!0,rowSelectionHighlight:!0,records:200,grid_lines:[],get gridLines(){return this.grid_lines.reduce((e,a)=>e|a,$.None)},showControlColumn:!0});async function Ge(e){const a=+(e.url.searchParams.get("records")??"200");console.log("Loading page data for records = %d...",a),o.records=a;const v=await(await e.fetch(`https://my.api.mockaroo.com/people.json?key=a53dac10&records=${a}`)).json();return{total:a,data:pe(v)}}const lt=Object.freeze(Object.defineProperty({__proto__:null,load:Ge},Symbol.toStringTag,{value:"Module"})),Oe=()=>{const e=qe;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},Ee={subscribe(e){return Oe().page.subscribe(e)}};var Ie=y(`<div class="offcanvas offcanvas-end bg-info bg-glass svelte-1i880sp" id="helpCanvas" data-bs-backdrop="false"><div class="offcanvas-header"><h3 class="offcanvas-title">WjDataView</h3></div> <div class="offcanvas-body"><p>The data view component shows data in tabular format.</p> <p>The following is the list of features.  Some of these may not be evident if the browser's width is 
            enough to show all data at once, such as the pinnable columns.  To overcome this, either make the 
            browser window smaller, or resize some columns until the data goes off view.</p> <h4>List of Features</h4> <ul><li>Scrollable viewport</li> <li>Striped rows</li> <li>Row tracking on mouse hover</li> <li>Row highlighting on selection</li> <li>Expansible rows</li> <li>Hideable columns</li> <li>Pinnable columns</li> <li>Resizable columns</li> <li>Column alignment</li> <li>Text wrap control</li> <li>Grid lines for columns and rows</li> <li>Customizable header content</li> <li>Customizable data cell content</li> <li>Customizable header cell appearance (the one that includes the resizer handle)</li> <li>Control column (an always-pinned special column for per-row controls/actions)</li> <li>Customizable appearance via CSS variables (theme component available)</li></ul> <h4>Can it be used to edit data?</h4> <p>The short answer is <strong>Yes!</strong> The cell contents are rendered by providing a custom 
            snippet named <span class="code svelte-1i880sp">dataCell</span>.  However, note that <span class="code svelte-1i880sp">WjDataView</span> will not provide any form of keyboard navigation of any kind.</p> <p>Having said this, use <span class="code svelte-1i880sp">dataCell</span> to provide cell content with controls such as 
            textboxes, checkboxes, radio buttons, selects, etc.</p></div></div>`);function Me(e){var a=Ie();k(e,a)}var Ne=y('<input type="radio" class="btn-check"> <label class="btn btn-outline-primary"> </label>',1),Ve=y("<option> </option>"),Pe=y('<div class="btn-toolbar my-2 py-1 px-1 gap-2 border border-1 rounded"><span class="toolbar-name fw-bold px-2 py-1 rounded-start svelte-1umxg75">Features</span> <button class="btn btn-sm btn-info" title="Click to show additional information" aria-label="Click to show additional information" data-bs-toggle="offcanvas" data-bs-target="#helpCanvas"><i class="bi bi-info-circle"></i></button> <div class="input-group input-group-sm"><span class="input-group-text" title="Row Options:"><i class="bi bi-list-check"></i></span> <div class="btn-group btn-group-sm"><input type="checkbox" id="striped" class="btn-check"> <label for="striped" class="btn btn-outline-primary rounded-0">Striped</label> <input type="checkbox" id="rowTracking" class="btn-check"> <label for="rowTracking" class="btn btn-outline-primary">Row Tracking</label> <input type="checkbox" id="rowSelectionHighlight" class="btn-check"> <label for="rowSelectionHighlight" class="btn btn-outline-primary">Selection Highlight</label></div></div> <input type="checkbox" id="controlColumn" class="btn-check"> <label for="controlColumn" class="btn btn-sm btn-outline-primary">Control Column</label> <div class="input-group input-group-sm"><span class="input-group-text" title="Row Count:"><i class="bi bi-person-lines-fill"></i></span> <div class="btn-group btn-group-sm"></div></div> <div class="input-group input-group-sm"><div class="input-group-text"><span title="Theme:"><i class="bi bi-palette"></i></span></div> <select class="form-control"><option></option><!></select></div> <div class="input-group input-group-sm"><span title="Borders:" class="input-group-text"><i class="bi bi-border-all"></i></span> <div class="btn-group btn-group-sm"><input type="checkbox" id="rowGridLine" class="btn-check"> <label for="rowGridLine" class="btn btn-outline-primary rounded-0" title="Row borders"><i class="bi bi-border-bottom"></i></label> <input type="checkbox" id="colGridLine" class="btn-check"> <label for="colGridLine" class="btn btn-outline-primary" title="Column borders"><i class="bi bi-border-right"></i></label></div></div></div>');function Ae(e,a){re(a,!0);const b=[],v=[],c=[100,200,300,400],g="Stock";let w=Y("Bootstrap");ne(()=>{ae.currentTheme=_(w)===g?ve():ee[_(w)]});var C=Pe(),L=n(d(C),4),q=n(d(L),2),H=d(q);x(H);var R=n(H,4);x(R);var z=n(R,4);x(z),Q(2),s(q),s(L);var W=n(L,2);x(W);var G=n(W,4),u=n(d(G),2);K(u,22,()=>c,t=>t,(t,p,m)=>{var S=Ne(),j=Se(S);x(j);var Z,N=n(j,2),ce=d(N,!0);s(N),F(()=>{P(j,"id",`numRecords_${p??""}`),Z!==(Z=p)&&(j.value=(j.__value=p)==null?"":p),P(N,"for",`numRecords_${p??""}`),se(N,"rounded-0",_(m)===0),J(ce,p)}),U(b,[],j,()=>o.records,ue=>o.records=ue),k(t,S)}),s(u),s(G);var f=n(G,2),T=n(d(f),2),O=d(T);O.value=(O.__value=g)==null?"":g,O.textContent=g;var X=n(O);K(X,16,()=>Object.keys(ee),t=>t,(t,p)=>{var m=Ve(),S={},j=d(m,!0);s(m),F(()=>{S!==(S=p)&&(m.value=(m.__value=p)==null?"":p),J(j,p)}),k(t,m)}),s(T),s(f);var A=n(f,2),B=n(d(A),2),l=d(B);x(l);var r,i=n(l,4);x(i);var h;Q(2),s(B),s(A),s(C),F(()=>{r!==(r=$.Row)&&(l.value=(l.__value=$.Row)==null?"":$.Row),h!==(h=$.Column)&&(i.value=(i.__value=$.Column)==null?"":$.Column)}),E(H,()=>o.striped,t=>o.striped=t),E(R,()=>o.rowTracking,t=>o.rowTracking=t),E(z,()=>o.rowSelectionHighlight,t=>o.rowSelectionHighlight=t),E(W,()=>o.showControlColumn,t=>o.showControlColumn=t),Le(T,()=>_(w),t=>I(w,t)),U(v,[],l,()=>o.grid_lines,t=>o.grid_lines=t),U(v,[],i,()=>o.grid_lines,t=>o.grid_lines=t),k(e,C),oe()}var Be=(e,a)=>a(e.currentTarget.checked),Ue=y('<div class="ps-2 d-flex flex-row flex-nowrap gap-1"><input type="checkbox" class="form-check-input"> <!></div>'),Je=(e,a)=>a().row.wjdv.expanded=!a().row.wjdv.expanded,Ye=y('<div class="px-2 d-flex flex-row gap-1"><input type="checkbox" class="form-check-input"> <button type="button" class="btn btn-sm btn-neutral"><i></i></button></div>'),Qe=y('<div class="data px-2"><!></div>'),Xe=y(`<div class="card mx-3 my-2"><h4 class="card-header">Data Drilldown</h4> <div class="card-body"><p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur vero voluptatibus
                                libero laboriosam nisi explicabo quia ab nam mollitia, rem beatae soluta inventore
                                doloribus. Iure omnis saepe blanditiis, fugit voluptates, sit eaque perferendis minima
                                doloremque ea quia dolores hic ipsam! Odit esse voluptatibus minus corrupti harum,
                                mollitia, temporibus corporis quam enim velit vitae eaque? Dolor sunt laudantium
                                possimus ea iusto quam suscipit exercitationem dicta? Id reiciendis iusto magni vitae
                                animi corrupti illum quaerat nisi repudiandae enim, saepe officiis ab cupiditate in,
                                aliquid totam incidunt dolores nam recusandae at sequi ipsa? Ipsa, placeat! Debitis
                                maiores quos eum nihil ducimus eligendi eaque.</p> <p>To see an actual data drill-down scenario, visit the <a>sales demo page</a>.</p></div></div>`),Ze=y(`<div class="d-flex flex-column overflow-auto h-100 theme-def"><div><hgroup><h1>WjDataView</h1> <h4>Tabular Data Visualization</h4></hgroup> <div class="container"><div class="row"><div class="col-lg-3 col-md-2"></div> <div class="col-lg-6 col-md-8"><div class="alert alert-info mb-0 d-flex flex-row flex-nowrap gap-3"><i class="bi bi-lightbulb-fill"></i> <pre class="mb-0">npm i @wjfe/dataview

import &#123; WjDataView &#125; from '@wjfe/dataview';</pre></div></div> <div class="col-lg-3 col-md-2"></div></div></div></div> <!> <!> <div class="flex-fill position-relative"><!> <!></div></div>`);function dt(e,a){re(a,!0);const b=ke(),v=()=>xe(Ee,"$page",b);let c=Y(D([]));je(()=>{I(c,D(a.data.data))});let g=Y(D([{key:"id",text:"ID",width:5,resizable:!1,pinned:!0,alignment:"start",pinnedFunctions:{}},{key:"first_name",text:"First Name",minWidth:5,hidden:!1,alignment:"start",pinnedFunctions:{}},{key:"last_name",text:"Last Name",alignment:"start",pinnedFunctions:{}},{key:"full_name",text:"Full Name",width:9,get:u=>`${u.gender==="Female"?"Mrs.":"Mr."} ${u.last_name}, ${u.first_name}`,alignment:"start",pinnedFunctions:{}},{key:"email",text:"E-Mail",pinned:!0,alignment:"start",pinnedFunctions:{}},{key:"gender",text:"Gender",alignment:"center",pinnedFunctions:{}},{key:"birth_date",text:"Birth Date",noTextWrap:!0,alignment:"start",pinnedFunctions:{}},{key:"country_code",text:"Country Code",alignment:"start",pinnedFunctions:{}},{key:"credit_score",text:"Credit Score",alignment:"end",pinnedFunctions:{}},{key:"net_worth",text:"Net Worth",alignment:"end",pinnedFunctions:{}}]));const w=te(()=>{let u=null,f=null;for(let T of _(c))if(T.wjdv.selected&&(u=!0),T.wjdv.selected||(f=!0),u!==null&&f!==null)return null;return u===!0});ne(()=>C(o.records));function C(u){if((v().url.searchParams.get("records")??200)==u)return;const f=new URL(v().url);f.searchParams.set("records",u.toString()),He(f)}function L(u){for(let f of _(c))f.wjdv.selected=u}var q=Ze(),H=n(d(q),2);Me(H);var R=n(H,2);Ae(R,{});var z=n(R,2),W=d(z);me(W,{get theme(){return ae.currentTheme},children:(u,f)=>{var T=te(()=>({width:4,minWidth:4,hidden:!o.showControlColumn,headerClass:"header-background pinned-header",dataClass:"pinned-cell",alignment:"start",pinnedFunctions:{}}));ge(u,{get striped(){return o.striped},get rowTracking(){return o.rowTracking},get rowSelectionHighlight(){return o.rowSelectionHighlight},get gridLines(){return o.gridLines},defaultWidth:15,class:"position-absolute top-0 bottom-0",headerClass:"header-background",get controlColumn(){return _(T)},get columns(){return _(g)},set columns(l){I(g,D(l))},get data(){return _(c)},set data(l){I(c,D(l))},controlHeaderCell:l=>{var r=Ue(),i=d(r);x(i),i.__input=[Be,L];var h=n(i,2);he(h,{get columns(){return _(g)},set columns(t){I(g,D(t))}}),s(r),F(()=>{i.indeterminate=_(w)===null,De(i,!!_(w))}),k(l,r)},controlDataCell:(l,r=V)=>{var i=Ye(),h=d(i);x(h);var t=n(h,2);t.__click=[Je,r];var p=d(t);s(t),s(i),F(()=>{P(t,"aria-label",r().row.wjdv.expanded?"contract":"expand"),Fe(p,`bi bi-chevron-bar-${(r().row.wjdv.expanded?"contract":"expand")??""}`)}),E(h,()=>r().row.wjdv.selected,m=>r().row.wjdv.selected=m),k(l,i)},headerCell:(l,r=V)=>{fe(l,{maxWidth:"20em",get col(){return r().col},set col(i){r().col=i}})},dataCell:(l,r=V)=>{var i=Qe(),h=d(i);{var t=m=>{_e(m,{get value(){return r().row[r().col.key]}})},p=m=>{var S=Te();F(()=>J(S,r().getFn(r().row))),k(m,S)};$e(h,m=>{r().col.key==="credit_score"||r().col.key==="net_worth"?m(t):m(p,!1)})}s(i),F(()=>se(i,"text-truncate",r().col.noTextWrap)),k(l,i)},rowExpansion:(l,r=V)=>{var i=Xe(),h=n(d(i),2),t=n(d(h),2),p=n(d(t));P(p,"href",`${Re??""}/sales`),Q(),s(t),s(h),s(i),k(l,i)},$$slots:{controlHeaderCell:!0,controlDataCell:!0,headerCell:!0,dataCell:!0,rowExpansion:!0}})},$$slots:{default:!0}});var G=n(W,2);be(G,{editUrl:"https://github.com/WJSoftware/wjfe-dataview/blob/main/src/routes/%2Bpage.svelte"}),s(z),s(q),k(e,q),oe()}Ce(["input","click"]);export{dt as component,lt as universal};
